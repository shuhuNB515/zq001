
---
import BaseLayout from '@/layouts/BaseLayout.astro'
import CommonHeader from '@/components/common/CommonHeader.vue'
import CommonFooter from '@/components/common/CommonFooter.vue'
import DeliveryCodeDisplay from '@/components/client-delivery-code-generation/DeliveryCodeDisplay.vue'
import DeliveryCodeInfo from '@/components/client-delivery-code-generation/DeliveryCodeInfo.vue'
import DeliveryCodeActions from '@/components/client-delivery-code-generation/DeliveryCodeActions.vue'
import { MOCK_DELIVERY_CODE } from '@/data/client_data'
---

<BaseLayout title="寄件码生成 - 智取未来">
  <CommonHeader client:load />
  
  <main class="flex-1 min-h-[calc(100vh-80px-120px)] flex items-center justify-center bg-gradient-to-b from-background to-secondary/30 py-8 px-4">
    <div class="w-full max-w-md">
      <!-- Success Container -->
      <div class="bg-white rounded-2xl shadow-card p-8 space-y-8">
        <!-- Success Icon -->
        <div class="flex justify-center">
          <div class="w-20 h-20 rounded-full bg-green-100 flex items-center justify-center animate-pulse">
            <svg class="w-12 h-12 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
        </div>

        <!-- Success Message -->
        <div class="text-center space-y-2">
          <h1 class="text-3xl font-bold text-foreground">寄件预约成功</h1>
          <p class="text-muted-foreground">您的寄件码已生成，请妥善保管</p>
        </div>

        <!-- Delivery Code Display -->
        <DeliveryCodeDisplay 
          client:load 
          deliveryCode={MOCK_DELIVERY_CODE.deliveryCode}
        />

        <!-- Info Section -->
        <DeliveryCodeInfo 
          client:idle
          validityPeriod={MOCK_DELIVERY_CODE.validityPeriod}
          instructions={MOCK_DELIVERY_CODE.instructions}
        />

        <!-- Actions -->
        <DeliveryCodeActions client:load />
      </div>
    </div>
  </main>

  <CommonFooter client:load variant="simple" />
</BaseLayout>

<style>
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
</style>
