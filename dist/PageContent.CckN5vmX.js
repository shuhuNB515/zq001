import{B as Button}from"./index.reJy9Fkb.js";import{b as CardTitle,c as CardHeader,d as CardDescription,C as CardContent,a as Card}from"./CardTitle.CgM7w6qo.js";import{T as TabsTrigger,a as TabsList,c as TabsContent,b as Tabs}from"./TabsTrigger.zV5G1_IO.js";import{S as SafeIcon}from"./SafeIcon.DLoMq80p.js";import{I as Input}from"./Input.CnK0bBOE.js";import{L as Label}from"./Label.CqWqXxsR.js";import{A as AlertTitle,a as AlertDescription,b as Alert}from"./index.dxN108Au.js";import{a as MOCK_SERVICE_RULES,M as MOCK_ANNOUNCEMENTS}from"./admin_data.BVR579x6.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper.Dak_cNiX.js";import{d as defineComponent,c as createElementBlock,o as openBlock,e as createBlock,b as createCommentVNode,a as createBaseVNode,f as createVNode,w as withCtx,g as createTextVNode,F as Fragment,r as renderList,t as toDisplayString,h as ref,l as renderSlot,m as mergeProps,A as normalizeClass,H as withDirectives}from"./runtime-core.esm-bundler.T-J3b-OY.js";import{v as vModelCheckbox}from"./runtime-dom.esm-bundler.DIawZXRK.js";import{T as Textarea}from"./Textarea.DkJefe04.js";import{B as Badge}from"./index.KUjbhw9V.js";import{a as useForwardPropsEmits,u as useForwardProps}from"./useForwardPropsEmits.Bq_EhdOw.js";import{D as DialogRoot_default,a as DialogClose_default,b as DialogPortal_default,c as DialogOverlay_default,d as DialogContent_default,e as DialogDescription_default,f as DialogTitle_default,g as DialogTrigger_default}from"./DialogTrigger.BJ-RflkJ.js";import{c as cn}from"./utils.DJhkAclG.js";import{X}from"./x.CCSO2bLl.js";import{r as reactiveOmit}from"./index.BnVuat8O.js";import"./index.oGhdtl4H.js";import"./Primitive.DurlyzDV.js";import"./useForwardExpose.Ct4MH066.js";import"./Presence.BaHqK_e-.js";import"./createContext.C6fsTd1r.js";import"./RovingFocusGroup.B5eqmrrc.js";import"./useDirection.BL8aHuFH.js";import"./Collection.Of9eBc3j.js";import"./getActiveElement.C3iuMN-h.js";import"./RovingFocusItem.FbNb0M3v.js";import"./Teleport.D8lx822C.js";const _sfc_main$b=defineComponent({__name:"ServiceRulesEditor",setup(__props,{expose:__expose}){__expose();const rules=ref(MOCK_SERVICE_RULES.map(rule=>({...rule}))),isSaving=ref(!1),saveSuccess=ref(!1),__returned__={rules,isSaving,saveSuccess,handleSave:async()=>{isSaving.value=!0,await new Promise(resolve=>setTimeout(resolve,1e3)),isSaving.value=!1,saveSuccess.value=!0,setTimeout(()=>{saveSuccess.value=!1},3e3)},getRuleLabel:key=>({delivery_price_standard:"标准寄件起步价格",max_storage_days:"快件最长免费存储天数",face_verification_retry:"人脸识别失败重试次数上限"})[key]||key,getRuleDescription:key=>({delivery_price_standard:"设置标准快递的起步价格，按首重计算",max_storage_days:"快件在智能货架中的最长免费存储时间",face_verification_retry:"用户人脸识别失败后允许重试的最大次数"})[key]||"",get Button(){return Button},get Card(){return Card},get CardContent(){return CardContent},get CardDescription(){return CardDescription},get CardHeader(){return CardHeader},get CardTitle(){return CardTitle},get Input(){return Input},get Label(){return Label},get Alert(){return Alert},get AlertDescription(){return AlertDescription},get AlertTitle(){return AlertTitle},SafeIcon};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}}),_hoisted_1$2={class:"space-y-6","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"49","data-source-line-end":"139"},_hoisted_2$2={class:"grid gap-6","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"60","data-source-line-end":"99"},_hoisted_3$2={class:"flex items-start justify-between","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"63","data-source-line-end":"75"},_hoisted_4$2={class:"flex items-start space-x-3","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"64","data-source-line-end":"74"},_hoisted_5$2={class:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"65","data-source-line-end":"67"},_hoisted_6$1={"data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"68","data-source-line-end":"73"},_hoisted_7$1={class:"flex items-end gap-4","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"78","data-source-line-end":"96"},_hoisted_8$1={class:"flex-1","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"79","data-source-line-end":"95"},_hoisted_9$1={class:"flex items-center gap-2","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"83","data-source-line-end":"94"},_hoisted_10$1={class:"text-sm text-muted-foreground font-medium min-w-fit","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"91","data-source-line-end":"93"},_hoisted_11$1={class:"flex justify-end pt-4","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"102","data-source-line-end":"123"},_hoisted_12$1={class:"flex items-start space-x-3","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"128","data-source-line-end":"136"},_hoisted_13$1={"data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"130","data-source-line-end":"135"};function _sfc_render$b(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createElementBlock("div",_hoisted_1$2,[$setup.saveSuccess?(openBlock(),createBlock($setup.Alert,{key:0,class:"border-green-200 bg-green-50","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"51","data-source-line-end":"57"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"CheckCircle",size:16,class:"text-green-600","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"52","data-source-line-end":"52"}),createVNode($setup.AlertTitle,{class:"text-green-800","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"53","data-source-line-end":"53"},{default:withCtx(()=>[..._cache[0]||(_cache[0]=[createTextVNode("保存成功",-1)])]),_:1}),createVNode($setup.AlertDescription,{class:"text-green-700","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"54","data-source-line-end":"56"},{default:withCtx(()=>[..._cache[1]||(_cache[1]=[createTextVNode(" 服务规则已成功更新 ",-1)])]),_:1})]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList($setup.rules,rule=>(openBlock(),createBlock($setup.Card,{key:rule.key,class:"border border-border","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"61","data-source-line-end":"98"},{default:withCtx(()=>[createVNode($setup.CardHeader,{class:"pb-4","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"62","data-source-line-end":"76"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createVNode($setup.SafeIcon,{name:rule.iconName,size:20,class:"text-primary","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"66","data-source-line-end":"66"},null,8,["name"])]),createBaseVNode("div",_hoisted_6$1,[createVNode($setup.CardTitle,{class:"text-lg","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"69","data-source-line-end":"69"},{default:withCtx(()=>[createTextVNode(toDisplayString(rule.description),1)]),_:2},1024),createVNode($setup.CardDescription,{class:"mt-1","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"70","data-source-line-end":"72"},{default:withCtx(()=>[createTextVNode(toDisplayString($setup.getRuleDescription(rule.key)),1)]),_:2},1024)])])])]),_:2},1024),createVNode($setup.CardContent,{"data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"77","data-source-line-end":"97"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createVNode($setup.Label,{for:`rule-${rule.key}`,class:"text-sm font-medium mb-2 block","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"80","data-source-line-end":"82"},{default:withCtx(()=>[..._cache[2]||(_cache[2]=[createTextVNode(" 当前值 ",-1)])]),_:1},8,["for"]),createBaseVNode("div",_hoisted_9$1,[createVNode($setup.Input,{id:`rule-${rule.key}`,modelValue:rule.value,"onUpdate:modelValue":$event=>rule.value=$event,type:"text",class:"flex-1",placeholder:"输入新值","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"84","data-source-line-end":"90"},null,8,["id","modelValue","onUpdate:modelValue"]),createBaseVNode("span",_hoisted_10$1,toDisplayString(rule.unit),1)])])])]),_:2},1024)]),_:2},1024))),128))]),createBaseVNode("div",_hoisted_11$1,[createVNode($setup.Button,{onClick:$setup.handleSave,disabled:$setup.isSaving,size:"lg",class:"min-w-32","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"103","data-source-line-end":"122"},{default:withCtx(()=>[$setup.isSaving?(openBlock(),createBlock($setup.SafeIcon,{key:1,name:"Loader",size:18,class:"mr-2 animate-spin","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"115","data-source-line-end":"120"})):(openBlock(),createBlock($setup.SafeIcon,{key:0,name:"Save",size:18,class:"mr-2","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"109","data-source-line-end":"114"})),createTextVNode(" "+toDisplayString($setup.isSaving?"保存中...":"保存更改"),1)]),_:1},8,["disabled"])]),createVNode($setup.Card,{class:"border-blue-200 bg-blue-50","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"126","data-source-line-end":"138"},{default:withCtx(()=>[createVNode($setup.CardHeader,{class:"pb-3","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"127","data-source-line-end":"137"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12$1,[createVNode($setup.SafeIcon,{name:"Info",size:20,class:"text-blue-600 mt-0.5 flex-shrink-0","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"129","data-source-line-end":"129"}),createBaseVNode("div",_hoisted_13$1,[createVNode($setup.CardTitle,{class:"text-base text-blue-900","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"131","data-source-line-end":"131"},{default:withCtx(()=>[..._cache[3]||(_cache[3]=[createTextVNode("提示",-1)])]),_:1}),createVNode($setup.CardDescription,{class:"text-blue-800 mt-1","data-source-file":"src/components/admin-settings/ServiceRulesEditor.vue","data-source-line-start":"132","data-source-line-end":"134"},{default:withCtx(()=>[..._cache[4]||(_cache[4]=[createTextVNode(" 修改的服务规则将立即生效，影响所有新的取寄件订单。已有订单将按原规则处理。 ",-1)])]),_:1})])])]),_:1})]),_:1})])}const ServiceRulesEditor=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a=defineComponent({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(__props,{expose:__expose,emit:__emit}){__expose();const props=__props,emits=__emit,forwarded=useForwardPropsEmits(props,emits),__returned__={props,emits,forwarded,get DialogRoot(){return DialogRoot_default}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$a(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogRoot,mergeProps($setup.forwarded,{"data-source-file":"src/components/ui/dialog/Dialog.vue","data-source-line-start":"12","data-source-line-end":"14"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)}const Dialog=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),_sfc_main$9=defineComponent({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(__props,{expose:__expose}){__expose();const __returned__={props:__props,get DialogClose(){return DialogClose_default}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$9(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogClose,mergeProps($setup.props,{"data-source-file":"src/components/ui/dialog/DialogClose.vue","data-source-line-start":"9","data-source-line-end":"11"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)}_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]);const _sfc_main$8=defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{expose:__expose,emit:__emit}){__expose();const props=__props,emits=__emit,delegatedProps=reactiveOmit(props,"class"),forwarded=useForwardPropsEmits(delegatedProps,emits),__returned__={props,emits,delegatedProps,forwarded,get X(){return X},get DialogClose(){return DialogClose_default},get DialogContent(){return DialogContent_default},get DialogOverlay(){return DialogOverlay_default},get DialogPortal(){return DialogPortal_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$8(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogPortal,{"data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"25","data-source-line-end":"46"},{default:withCtx(()=>[createVNode($setup.DialogOverlay,{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"26","data-source-line-end":"28"}),createVNode($setup.DialogContent,mergeProps($setup.forwarded,{class:$setup.cn("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",$setup.props.class),"data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"29","data-source-line-end":"45"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default"),createVNode($setup.DialogClose,{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"39","data-source-line-end":"44"},{default:withCtx(()=>[createVNode($setup.X,{class:"w-4 h-4","data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"42","data-source-line-end":"42"}),_cache[0]||(_cache[0]=createBaseVNode("span",{class:"sr-only","data-source-file":"src/components/ui/dialog/DialogContent.vue","data-source-line-start":"43","data-source-line-end":"43"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3})}const DialogContent=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),_sfc_main$7=defineComponent({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),forwardedProps=useForwardProps(delegatedProps),__returned__={props,delegatedProps,forwardedProps,get DialogDescription(){return DialogDescription_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$7(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogDescription,mergeProps($setup.forwardedProps,{class:$setup.cn("text-sm text-muted-foreground",$setup.props.class),"data-source-file":"src/components/ui/dialog/DialogDescription.vue","data-source-line-start":"16","data-source-line-end":"21"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["class"])}const DialogDescription=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),_sfc_main$6=defineComponent({__name:"DialogFooter",props:{class:{}},setup(__props,{expose:__expose}){__expose();const __returned__={props:__props,get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$6(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createElementBlock("div",{class:normalizeClass($setup.cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",$setup.props.class)),"data-source-file":"src/components/ui/dialog/DialogFooter.vue","data-source-line-start":"9","data-source-line-end":"18"},[renderSlot(_ctx.$slots,"default")],2)}_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]);const _sfc_main$5=defineComponent({__name:"DialogHeader",props:{class:{}},setup(__props,{expose:__expose}){__expose();const __returned__={props:__props,get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$5(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createElementBlock("div",{class:normalizeClass($setup.cn("flex flex-col gap-y-1.5 text-center sm:text-left",$setup.props.class)),"data-source-file":"src/components/ui/dialog/DialogHeader.vue","data-source-line-start":"11","data-source-line-end":"15"},[renderSlot(_ctx.$slots,"default")],2)}const DialogHeader=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4=defineComponent({__name:"DialogScrollContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{expose:__expose,emit:__emit}){__expose();const props=__props,emits=__emit,delegatedProps=reactiveOmit(props,"class"),forwarded=useForwardPropsEmits(delegatedProps,emits),__returned__={props,emits,delegatedProps,forwarded,get X(){return X},get DialogClose(){return DialogClose_default},get DialogContent(){return DialogContent_default},get DialogOverlay(){return DialogOverlay_default},get DialogPortal(){return DialogPortal_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$4(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogPortal,{"data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"25","data-source-line-end":"55"},{default:withCtx(()=>[createVNode($setup.DialogOverlay,{class:"fixed inset-0 z-50 grid place-items-center overflow-y-auto bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"26","data-source-line-end":"54"},{default:withCtx(()=>[createVNode($setup.DialogContent,mergeProps({class:$setup.cn("relative z-50 grid w-full max-w-lg my-8 gap-4 border border-border bg-background p-6 shadow-lg duration-200 sm:rounded-lg md:w-full",$setup.props.class)},$setup.forwarded,{onPointerDownOutside:_cache[0]||(_cache[0]=event=>{const originalEvent=event.detail.originalEvent,target=originalEvent.target;(originalEvent.offsetX>target.clientWidth||originalEvent.offsetY>target.clientHeight)&&event.preventDefault()}),"data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"29","data-source-line-end":"53"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default"),createVNode($setup.DialogClose,{class:"absolute top-3 right-3 p-0.5 transition-colors rounded-md hover:bg-secondary","data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"47","data-source-line-end":"52"},{default:withCtx(()=>[createVNode($setup.X,{class:"w-4 h-4","data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"50","data-source-line-end":"50"}),_cache[1]||(_cache[1]=createBaseVNode("span",{class:"sr-only","data-source-file":"src/components/ui/dialog/DialogScrollContent.vue","data-source-line-start":"51","data-source-line-end":"51"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3})]),_:3})}_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]);const _sfc_main$3=defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),forwardedProps=useForwardProps(delegatedProps),__returned__={props,delegatedProps,forwardedProps,get DialogTitle(){return DialogTitle_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$3(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogTitle,mergeProps($setup.forwardedProps,{class:$setup.cn("text-lg font-semibold leading-none tracking-tight",$setup.props.class),"data-source-file":"src/components/ui/dialog/DialogTitle.vue","data-source-line-start":"16","data-source-line-end":"26"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["class"])}const DialogTitle=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2=defineComponent({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(__props,{expose:__expose}){__expose();const __returned__={props:__props,get DialogTrigger(){return DialogTrigger_default}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$2(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.DialogTrigger,mergeProps($setup.props,{"data-source-file":"src/components/ui/dialog/DialogTrigger.vue","data-source-line-start":"9","data-source-line-end":"11"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)}const DialogTrigger=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1=defineComponent({__name:"AnnouncementManager",setup(__props,{expose:__expose}){__expose();const announcements=ref(MOCK_ANNOUNCEMENTS),isDialogOpen=ref(!1),isPublishing=ref(!1),publishSuccess=ref(!1),newAnnouncement=ref({title:"",content:"",isUrgent:!1}),__returned__={announcements,isDialogOpen,isPublishing,publishSuccess,newAnnouncement,handlePublish:async()=>{if(!newAnnouncement.value.title.trim()||!newAnnouncement.value.content.trim())return;isPublishing.value=!0,await new Promise(resolve=>setTimeout(resolve,1e3));const announcement={id:Math.max(...announcements.value.map(a=>a.id),0)+1,title:newAnnouncement.value.title,content:newAnnouncement.value.content,releaseDate:new Date().toLocaleString("zh-CN"),isUrgent:newAnnouncement.value.isUrgent};announcements.value.unshift(announcement),isPublishing.value=!1,publishSuccess.value=!0,isDialogOpen.value=!1,newAnnouncement.value={title:"",content:"",isUrgent:!1},setTimeout(()=>{publishSuccess.value=!1},3e3)},handleDelete:id=>{announcements.value=announcements.value.filter(a=>a.id!==id)},formatDate:dateStr=>{try{return new Date(dateStr).toLocaleString("zh-CN")}catch{return dateStr}},get Button(){return Button},get Card(){return Card},get CardContent(){return CardContent},get CardDescription(){return CardDescription},get CardHeader(){return CardHeader},get CardTitle(){return CardTitle},get Input(){return Input},get Textarea(){return Textarea},get Label(){return Label},get Badge(){return Badge},get Alert(){return Alert},get AlertDescription(){return AlertDescription},get AlertTitle(){return AlertTitle},get Dialog(){return Dialog},get DialogContent(){return DialogContent},get DialogDescription(){return DialogDescription},get DialogHeader(){return DialogHeader},get DialogTitle(){return DialogTitle},get DialogTrigger(){return DialogTrigger},SafeIcon};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}}),_hoisted_1$1={class:"space-y-6","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"77","data-source-line-end":"230"},_hoisted_2$1={class:"flex justify-between items-center","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"88","data-source-line-end":"180"},_hoisted_3$1={"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"89","data-source-line-end":"94"},_hoisted_4$1={class:"text-sm text-muted-foreground mt-1","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"91","data-source-line-end":"93"},_hoisted_5$1={class:"space-y-4 py-4","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"110","data-source-line-end":"149"},_hoisted_6={"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"112","data-source-line-end":"122"},_hoisted_7={"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"125","data-source-line-end":"135"},_hoisted_8={class:"flex items-center space-x-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"138","data-source-line-end":"148"},_hoisted_9={class:"flex justify-end gap-2 pt-4 border-t","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"152","data-source-line-end":"177"},_hoisted_10={class:"space-y-4","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"183","data-source-line-end":"229"},_hoisted_11={class:"flex items-start justify-between gap-4","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"190","data-source-line-end":"215"},_hoisted_12={class:"flex-1","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"191","data-source-line-end":"206"},_hoisted_13={class:"flex items-center gap-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"192","data-source-line-end":"202"},_hoisted_14={class:"text-sm text-foreground whitespace-pre-wrap","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"218","data-source-line-end":"220"},_hoisted_15={key:0,class:"text-center py-12","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"225","data-source-line-end":"228"};function _sfc_render$1(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createElementBlock("div",_hoisted_1$1,[$setup.publishSuccess?(openBlock(),createBlock($setup.Alert,{key:0,class:"border-green-200 bg-green-50","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"79","data-source-line-end":"85"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"CheckCircle",size:16,class:"text-green-600","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"80","data-source-line-end":"80"}),createVNode($setup.AlertTitle,{class:"text-green-800","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"81","data-source-line-end":"81"},{default:withCtx(()=>[..._cache[5]||(_cache[5]=[createTextVNode("发布成功",-1)])]),_:1}),createVNode($setup.AlertDescription,{class:"text-green-700","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"82","data-source-line-end":"84"},{default:withCtx(()=>[..._cache[6]||(_cache[6]=[createTextVNode(" 公告已成功发布，用户将立即看到 ",-1)])]),_:1})]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[_cache[7]||(_cache[7]=createBaseVNode("h2",{class:"text-xl font-semibold","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"90","data-source-line-end":"90"},"系统公告",-1)),createBaseVNode("p",_hoisted_4$1," 共 "+toDisplayString($setup.announcements.length)+" 条公告 ",1)]),createVNode($setup.Dialog,{open:$setup.isDialogOpen,"onUpdate:open":_cache[4]||(_cache[4]=$event=>$setup.isDialogOpen=$event),"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"95","data-source-line-end":"179"},{default:withCtx(()=>[createVNode($setup.DialogTrigger,{"as-child":"","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"96","data-source-line-end":"101"},{default:withCtx(()=>[createVNode($setup.Button,{size:"lg","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"97","data-source-line-end":"100"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"Plus",size:18,class:"mr-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"98","data-source-line-end":"98"}),_cache[8]||(_cache[8]=createTextVNode(" 发布新公告 ",-1))]),_:1})]),_:1}),createVNode($setup.DialogContent,{class:"max-w-2xl","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"102","data-source-line-end":"178"},{default:withCtx(()=>[createVNode($setup.DialogHeader,{"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"103","data-source-line-end":"108"},{default:withCtx(()=>[createVNode($setup.DialogTitle,{"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"104","data-source-line-end":"104"},{default:withCtx(()=>[..._cache[9]||(_cache[9]=[createTextVNode("发布新公告",-1)])]),_:1}),createVNode($setup.DialogDescription,{"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"105","data-source-line-end":"107"},{default:withCtx(()=>[..._cache[10]||(_cache[10]=[createTextVNode(" 输入公告标题和内容，选择是否为紧急公告 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6,[createVNode($setup.Label,{for:"announcement-title",class:"text-sm font-medium","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"113","data-source-line-end":"115"},{default:withCtx(()=>[..._cache[11]||(_cache[11]=[createTextVNode(" 公告标题 ",-1),createBaseVNode("span",{class:"text-destructive","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"114","data-source-line-end":"114"},"*",-1)])]),_:1}),createVNode($setup.Input,{id:"announcement-title",modelValue:$setup.newAnnouncement.title,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>$setup.newAnnouncement.title=$event),placeholder:"输入公告标题",class:"mt-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"116","data-source-line-end":"121"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_7,[createVNode($setup.Label,{for:"announcement-content",class:"text-sm font-medium","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"126","data-source-line-end":"128"},{default:withCtx(()=>[..._cache[12]||(_cache[12]=[createTextVNode(" 公告内容 ",-1),createBaseVNode("span",{class:"text-destructive","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"127","data-source-line-end":"127"},"*",-1)])]),_:1}),createVNode($setup.Textarea,{id:"announcement-content",modelValue:$setup.newAnnouncement.content,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>$setup.newAnnouncement.content=$event),placeholder:"输入公告内容",class:"mt-2 min-h-32","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"129","data-source-line-end":"134"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_8,[withDirectives(createBaseVNode("input",{id:"is-urgent","onUpdate:modelValue":_cache[2]||(_cache[2]=$event=>$setup.newAnnouncement.isUrgent=$event),type:"checkbox",class:"w-4 h-4 rounded border-border","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"139","data-source-line-end":"144"},null,512),[[vModelCheckbox,$setup.newAnnouncement.isUrgent]]),createVNode($setup.Label,{for:"is-urgent",class:"text-sm font-medium cursor-pointer","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"145","data-source-line-end":"147"},{default:withCtx(()=>[..._cache[13]||(_cache[13]=[createTextVNode(" 标记为紧急公告 ",-1)])]),_:1})])]),createBaseVNode("div",_hoisted_9,[createVNode($setup.Button,{variant:"outline",onClick:_cache[3]||(_cache[3]=$event=>$setup.isDialogOpen=!1),"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"153","data-source-line-end":"158"},{default:withCtx(()=>[..._cache[14]||(_cache[14]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode($setup.Button,{onClick:$setup.handlePublish,disabled:$setup.isPublishing||!$setup.newAnnouncement.title.trim()||!$setup.newAnnouncement.content.trim(),"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"159","data-source-line-end":"176"},{default:withCtx(()=>[$setup.isPublishing?(openBlock(),createBlock($setup.SafeIcon,{key:1,name:"Loader",size:18,class:"mr-2 animate-spin","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"169","data-source-line-end":"174"})):(openBlock(),createBlock($setup.SafeIcon,{key:0,name:"Send",size:18,class:"mr-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"163","data-source-line-end":"168"})),createTextVNode(" "+toDisplayString($setup.isPublishing?"发布中...":"发布公告"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),createBaseVNode("div",_hoisted_10,[(openBlock(!0),createElementBlock(Fragment,null,renderList($setup.announcements,announcement=>(openBlock(),createBlock($setup.Card,{key:announcement.id,class:"border border-border hover:shadow-card transition-shadow","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"184","data-source-line-end":"222"},{default:withCtx(()=>[createVNode($setup.CardHeader,{class:"pb-3","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"189","data-source-line-end":"216"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createVNode($setup.CardTitle,{class:"text-lg","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"193","data-source-line-end":"193"},{default:withCtx(()=>[createTextVNode(toDisplayString(announcement.title),1)]),_:2},1024),announcement.isUrgent?(openBlock(),createBlock($setup.Badge,{key:0,variant:"destructive",class:"flex items-center gap-1","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"194","data-source-line-end":"201"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"AlertCircle",size:14,"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"199","data-source-line-end":"199"}),_cache[15]||(_cache[15]=createTextVNode(" 紧急 ",-1))]),_:1})):createCommentVNode("",!0)]),createVNode($setup.CardDescription,{class:"mt-2","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"203","data-source-line-end":"205"},{default:withCtx(()=>[createTextVNode(" 发布时间："+toDisplayString($setup.formatDate(announcement.releaseDate)),1)]),_:2},1024)]),createVNode($setup.Button,{variant:"ghost",size:"icon",onClick:$event=>$setup.handleDelete(announcement.id),class:"text-destructive hover:text-destructive hover:bg-destructive/10","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"207","data-source-line-end":"214"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"Trash2",size:18,"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"213","data-source-line-end":"213"})]),_:1},8,["onClick"])])]),_:2},1024),createVNode($setup.CardContent,{"data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"217","data-source-line-end":"221"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_14,toDisplayString(announcement.content),1)]),_:2},1024)]),_:2},1024))),128)),$setup.announcements.length===0?(openBlock(),createElementBlock("div",_hoisted_15,[createVNode($setup.SafeIcon,{name:"Megaphone",size:48,class:"mx-auto text-muted-foreground/50 mb-4","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"226","data-source-line-end":"226"}),_cache[16]||(_cache[16]=createBaseVNode("p",{class:"text-muted-foreground","data-source-file":"src/components/admin-settings/AnnouncementManager.vue","data-source-line-start":"227","data-source-line-end":"227"},"暂无公告",-1))])):createCommentVNode("",!0)])])}const AnnouncementManager=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main=defineComponent({__name:"PageContent",setup(__props,{expose:__expose}){__expose();const __returned__={activeTab:ref("rules"),handleNavigateBack:()=>{typeof window<"u"&&(window.location.href="./admin-dashboard.html")},get Button(){return Button},get Tabs(){return Tabs},get TabsContent(){return TabsContent},get TabsList(){return TabsList},get TabsTrigger(){return TabsTrigger},SafeIcon,ServiceRulesEditor,AnnouncementManager};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}}),_hoisted_1={class:"flex flex-col h-full","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"21","data-source-line-end":"67"},_hoisted_2={class:"border-b border-border bg-card p-6","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"23","data-source-line-end":"40"},_hoisted_3={class:"flex items-center justify-between","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"24","data-source-line-end":"39"},_hoisted_4={class:"flex items-center space-x-4","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"25","data-source-line-end":"38"},_hoisted_5={class:"flex-1 overflow-auto p-6","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"43","data-source-line-end":"66"};function _sfc_render(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createVNode($setup.Button,{variant:"ghost",size:"icon",onClick:$setup.handleNavigateBack,class:"hover:bg-accent","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"26","data-source-line-end":"33"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"ArrowLeft",size:24,"data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"32","data-source-line-end":"32"})]),_:1}),_cache[1]||(_cache[1]=createBaseVNode("div",{"data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"34","data-source-line-end":"37"},[createBaseVNode("h1",{class:"text-3xl font-bold text-foreground","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"35","data-source-line-end":"35"},"基础设置"),createBaseVNode("p",{class:"text-sm text-muted-foreground mt-1","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"36","data-source-line-end":"36"},"管理服务规则和系统公告")],-1))])])]),createBaseVNode("div",_hoisted_5,[createVNode($setup.Tabs,{modelValue:$setup.activeTab,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>$setup.activeTab=$event),class:"w-full","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"44","data-source-line-end":"65"},{default:withCtx(()=>[createVNode($setup.TabsList,{class:"grid w-full max-w-md grid-cols-2","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"45","data-source-line-end":"54"},{default:withCtx(()=>[createVNode($setup.TabsTrigger,{value:"rules",class:"flex items-center","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"46","data-source-line-end":"49"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"Settings",size:18,class:"mr-2","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"47","data-source-line-end":"47"}),_cache[2]||(_cache[2]=createTextVNode(" 服务规则 ",-1))]),_:1}),createVNode($setup.TabsTrigger,{value:"announcements",class:"flex items-center","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"50","data-source-line-end":"53"},{default:withCtx(()=>[createVNode($setup.SafeIcon,{name:"Megaphone",size:18,class:"mr-2","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"51","data-source-line-end":"51"}),_cache[3]||(_cache[3]=createTextVNode(" 系统公告 ",-1))]),_:1})]),_:1}),createVNode($setup.TabsContent,{value:"rules",class:"mt-6","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"57","data-source-line-end":"59"},{default:withCtx(()=>[createVNode($setup.ServiceRulesEditor,{"data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"58","data-source-line-end":"58"})]),_:1}),createVNode($setup.TabsContent,{value:"announcements",class:"mt-6","data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"62","data-source-line-end":"64"},{default:withCtx(()=>[createVNode($setup.AnnouncementManager,{"data-source-file":"src/components/admin-settings/PageContent.vue","data-source-line-start":"63","data-source-line-end":"63"})]),_:1})]),_:1},8,["modelValue"])])])}const PageContent=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{PageContent as default};
