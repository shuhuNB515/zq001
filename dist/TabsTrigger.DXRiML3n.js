import{i as injectConfigProviderContext,g as getActiveElement,c as createContext,b as useId,P as Presence_default,a as useForwardPropsEmits,u as useForwardProps}from"./Presence.CO6WY8i4.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper.Dak_cNiX.js";import{h as ref,k as computed,P as inject,d as defineComponent,j as watchEffect,Q as markRaw,R as h,n as watch,S as provide,C as toRefs,e as createBlock,o as openBlock,w as withCtx,f as createVNode,u as unref,l as renderSlot,i as onMounted,L as onUnmounted,K as nextTick,z as normalizeStyle,b as createCommentVNode,y as mergeProps,a as createBaseVNode}from"./runtime-core.esm-bundler.BnWtpekm.js";import{u as unrefElement,e as useVModel,a as useForwardExpose}from"./useForwardExpose.D8hIQesf.js";import{S as Slot,P as Primitive}from"./index.Dv_Oc2Px.js";import{c as cn}from"./utils.DJhkAclG.js";import{r as reactiveOmit}from"./index.BBx7QzTm.js";import{b as withKeys,w as withModifiers}from"./runtime-dom.esm-bundler.4kTYh-b9.js";function useDirection(dir){const context=injectConfigProviderContext({dir:ref("ltr")});return computed(()=>dir?.value||context.dir?.value||"ltr")}function usePrimitiveElement(){const primitiveElement=ref(),currentElement=computed(()=>["#text","#comment"].includes(primitiveElement.value?.$el.nodeName)?primitiveElement.value?.$el.nextElementSibling:unrefElement(primitiveElement));return{primitiveElement,currentElement}}const ITEM_DATA_ATTR="data-reka-collection-item";function useCollection(options={}){const{key="",isProvider=!1}=options,injectionKey=`${key}CollectionProvider`;let context;if(isProvider){const itemMap=ref(new Map);context={collectionRef:ref(),itemMap},provide(injectionKey,context)}else context=inject(injectionKey);const getItems=(includeDisabledItem=!1)=>{const collectionNode=context.collectionRef.value;if(!collectionNode)return[];const orderedNodes=Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`)),orderedItems=Array.from(context.itemMap.value.values()).sort((a,b)=>orderedNodes.indexOf(a.ref)-orderedNodes.indexOf(b.ref));return includeDisabledItem?orderedItems:orderedItems.filter(i=>i.ref.dataset.disabled!=="")},CollectionSlot=defineComponent({name:"CollectionSlot",setup(_,{slots}){const{primitiveElement,currentElement}=usePrimitiveElement();return watch(currentElement,()=>{context.collectionRef.value=currentElement.value}),()=>h(Slot,{ref:primitiveElement},slots)}}),CollectionItem=defineComponent({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(props,{slots,attrs}){const{primitiveElement,currentElement}=usePrimitiveElement();return watchEffect(cleanupFn=>{if(currentElement.value){const key$1=markRaw(currentElement.value);context.itemMap.value.set(key$1,{ref:currentElement.value,value:props.value}),cleanupFn(()=>context.itemMap.value.delete(key$1))}}),()=>h(Slot,{...attrs,[ITEM_DATA_ATTR]:"",ref:primitiveElement},slots)}}),reactiveItems=computed(()=>Array.from(context.itemMap.value.values())),itemMapSize=computed(()=>context.itemMap.value.size);return{getItems,reactiveItems,itemMapSize,CollectionSlot,CollectionItem}}const ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(key,dir){return dir!=="rtl"?key:key==="ArrowLeft"?"ArrowRight":key==="ArrowRight"?"ArrowLeft":key}function getFocusIntent(event,orientation,dir){const key=getDirectionAwareKey(event.key,dir);if(!(orientation==="vertical"&&["ArrowLeft","ArrowRight"].includes(key))&&!(orientation==="horizontal"&&["ArrowUp","ArrowDown"].includes(key)))return MAP_KEY_TO_FOCUS_INTENT[key]}function focusFirst(candidates,preventScroll=!1){const PREVIOUSLY_FOCUSED_ELEMENT=getActiveElement();for(const candidate of candidates)if(candidate===PREVIOUSLY_FOCUSED_ELEMENT||(candidate.focus({preventScroll}),getActiveElement()!==PREVIOUSLY_FOCUSED_ELEMENT))return}function wrapArray(array,startIndex){return array.map((_,index)=>array[(startIndex+index)%array.length])}const[injectRovingFocusGroupContext,provideRovingFocusGroupContext]=createContext("RovingFocusGroup");var RovingFocusGroup_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(__props,{expose:__expose,emit:__emit}){const props=__props,emits=__emit,{loop,orientation,dir:propDir}=toRefs(props),dir=useDirection(propDir),currentTabStopId=useVModel(props,"currentTabStopId",emits,{defaultValue:props.defaultCurrentTabStopId,passive:props.currentTabStopId===void 0}),isTabbingBackOut=ref(!1),isClickFocus=ref(!1),focusableItemsCount=ref(0),{getItems,CollectionSlot}=useCollection({isProvider:!0});function handleFocus(event){const isKeyboardFocus=!isClickFocus.value;if(event.currentTarget&&event.target===event.currentTarget&&isKeyboardFocus&&!isTabbingBackOut.value){const entryFocusEvent=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(event.currentTarget.dispatchEvent(entryFocusEvent),emits("entryFocus",entryFocusEvent),!entryFocusEvent.defaultPrevented){const items=getItems().map(i=>i.ref).filter(i=>i.dataset.disabled!==""),activeItem=items.find(item=>item.getAttribute("data-active")===""),highlightedItem=items.find(item=>item.getAttribute("data-highlighted")===""),currentItem=items.find(item=>item.id===currentTabStopId.value),candidateItems=[activeItem,highlightedItem,currentItem,...items].filter(Boolean);focusFirst(candidateItems,props.preventScrollOnEntryFocus)}}isClickFocus.value=!1}function handleMouseUp(){setTimeout(()=>{isClickFocus.value=!1},1)}return __expose({getItems}),provideRovingFocusGroupContext({loop,dir,orientation,currentTabStopId,onItemFocus:tabStopId=>{currentTabStopId.value=tabStopId},onItemShiftTab:()=>{isTabbingBackOut.value=!0},onFocusableItemAdd:()=>{focusableItemsCount.value++},onFocusableItemRemove:()=>{focusableItemsCount.value--}}),(_ctx,_cache)=>(openBlock(),createBlock(unref(CollectionSlot),null,{default:withCtx(()=>[createVNode(unref(Primitive),{tabindex:isTabbingBackOut.value||focusableItemsCount.value===0?-1:0,"data-orientation":unref(orientation),as:_ctx.as,"as-child":_ctx.asChild,dir:unref(dir),style:{outline:"none"},onMousedown:_cache[0]||(_cache[0]=$event=>isClickFocus.value=!0),onMouseup:handleMouseUp,onFocus:handleFocus,onBlur:_cache[1]||(_cache[1]=$event=>isTabbingBackOut.value=!1)},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),RovingFocusGroup_default=RovingFocusGroup_vue_vue_type_script_setup_true_lang_default,RovingFocusItem_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(__props){const props=__props,context=injectRovingFocusGroupContext(),randomId=useId(),id=computed(()=>props.tabStopId||randomId),isCurrentTabStop=computed(()=>context.currentTabStopId.value===id.value),{getItems,CollectionItem}=useCollection();onMounted(()=>{props.focusable&&context.onFocusableItemAdd()}),onUnmounted(()=>{props.focusable&&context.onFocusableItemRemove()});function handleKeydown(event){if(event.key==="Tab"&&event.shiftKey){context.onItemShiftTab();return}if(event.target!==event.currentTarget)return;const focusIntent=getFocusIntent(event,context.orientation.value,context.dir.value);if(focusIntent!==void 0){if(event.metaKey||event.ctrlKey||event.altKey||!props.allowShiftKey&&event.shiftKey)return;event.preventDefault();let candidateNodes=[...getItems().map(i=>i.ref).filter(i=>i.dataset.disabled!=="")];if(focusIntent==="last")candidateNodes.reverse();else if(focusIntent==="prev"||focusIntent==="next"){focusIntent==="prev"&&candidateNodes.reverse();const currentIndex=candidateNodes.indexOf(event.currentTarget);candidateNodes=context.loop.value?wrapArray(candidateNodes,currentIndex+1):candidateNodes.slice(currentIndex+1)}nextTick(()=>focusFirst(candidateNodes))}}return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollectionItem),null,{default:withCtx(()=>[createVNode(unref(Primitive),{tabindex:isCurrentTabStop.value?0:-1,"data-orientation":unref(context).orientation.value,"data-active":_ctx.active?"":void 0,"data-disabled":_ctx.focusable?void 0:"",as:_ctx.as,"as-child":_ctx.asChild,onMousedown:_cache[0]||(_cache[0]=event=>{_ctx.focusable?unref(context).onItemFocus(id.value):event.preventDefault()}),onFocus:_cache[1]||(_cache[1]=$event=>unref(context).onItemFocus(id.value)),onKeydown:handleKeydown},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),RovingFocusItem_default=RovingFocusItem_vue_vue_type_script_setup_true_lang_default;const[injectTabsRootContext,provideTabsRootContext]=createContext("TabsRoot");var TabsRoot_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,{orientation,unmountOnHide,dir:propDir}=toRefs(props),dir=useDirection(propDir);useForwardExpose();const modelValue=useVModel(props,"modelValue",emits,{defaultValue:props.defaultValue,passive:props.modelValue===void 0}),tabsList=ref();return provideTabsRootContext({modelValue,changeModelValue:value=>{modelValue.value=value},orientation,dir,unmountOnHide,activationMode:props.activationMode,baseId:useId(void 0,"reka-tabs"),tabsList}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{dir:unref(dir),"data-orientation":unref(orientation),"as-child":_ctx.asChild,as:_ctx.as},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default",{modelValue:unref(modelValue)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),TabsRoot_default=TabsRoot_vue_vue_type_script_setup_true_lang_default;function makeTriggerId(baseId,value){return`${baseId}-trigger-${value}`}function makeContentId(baseId,value){return`${baseId}-content-${value}`}var TabsContent_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const props=__props,{forwardRef}=useForwardExpose(),rootContext=injectTabsRootContext(),triggerId=computed(()=>makeTriggerId(rootContext.baseId,props.value)),contentId=computed(()=>makeContentId(rootContext.baseId,props.value)),isSelected=computed(()=>props.value===rootContext.modelValue.value),isMountAnimationPreventedRef=ref(isSelected.value);return onMounted(()=>{requestAnimationFrame(()=>{isMountAnimationPreventedRef.value=!1})}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{present:_ctx.forceMount||isSelected.value,"force-mount":""},{default:withCtx(({present})=>[createVNode(unref(Primitive),{id:contentId.value,ref:unref(forwardRef),"as-child":_ctx.asChild,as:_ctx.as,role:"tabpanel","data-state":isSelected.value?"active":"inactive","data-orientation":unref(rootContext).orientation.value,"aria-labelledby":triggerId.value,hidden:!present,tabindex:"0",style:normalizeStyle({animationDuration:isMountAnimationPreventedRef.value?"0s":void 0})},{default:withCtx(()=>[!unref(rootContext).unmountOnHide.value||present?renderSlot(_ctx.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),TabsContent_default=TabsContent_vue_vue_type_script_setup_true_lang_default,TabsList_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const props=__props,{loop}=toRefs(props),{forwardRef,currentElement}=useForwardExpose(),context=injectTabsRootContext();return context.tabsList=currentElement,(_ctx,_cache)=>(openBlock(),createBlock(unref(RovingFocusGroup_default),{"as-child":"",orientation:unref(context).orientation.value,dir:unref(context).dir.value,loop:unref(loop)},{default:withCtx(()=>[createVNode(unref(Primitive),{ref:unref(forwardRef),role:"tablist","as-child":_ctx.asChild,as:_ctx.as,"aria-orientation":unref(context).orientation.value},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),TabsList_default=TabsList_vue_vue_type_script_setup_true_lang_default,TabsTrigger_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(__props){const props=__props,{forwardRef}=useForwardExpose(),rootContext=injectTabsRootContext(),triggerId=computed(()=>makeTriggerId(rootContext.baseId,props.value)),contentId=computed(()=>makeContentId(rootContext.baseId,props.value)),isSelected=computed(()=>props.value===rootContext.modelValue.value);return(_ctx,_cache)=>(openBlock(),createBlock(unref(RovingFocusItem_default),{"as-child":"",focusable:!_ctx.disabled,active:isSelected.value},{default:withCtx(()=>[createVNode(unref(Primitive),{id:triggerId.value,ref:unref(forwardRef),role:"tab",type:_ctx.as==="button"?"button":void 0,as:_ctx.as,"as-child":_ctx.asChild,"aria-selected":isSelected.value?"true":"false","aria-controls":contentId.value,"data-state":isSelected.value?"active":"inactive",disabled:_ctx.disabled,"data-disabled":_ctx.disabled?"":void 0,"data-orientation":unref(rootContext).orientation.value,onMousedown:_cache[0]||(_cache[0]=withModifiers(event=>{!_ctx.disabled&&event.ctrlKey===!1?unref(rootContext).changeModelValue(_ctx.value):event.preventDefault()},["left"])),onKeydown:_cache[1]||(_cache[1]=withKeys($event=>unref(rootContext).changeModelValue(_ctx.value),["enter","space"])),onFocus:_cache[2]||(_cache[2]=()=>{const isAutomaticActivation=unref(rootContext).activationMode!=="manual";!isSelected.value&&!_ctx.disabled&&isAutomaticActivation&&unref(rootContext).changeModelValue(_ctx.value)})},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),TabsTrigger_default=TabsTrigger_vue_vue_type_script_setup_true_lang_default;const _sfc_main$3=defineComponent({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(__props,{expose:__expose,emit:__emit}){__expose();const props=__props,emits=__emit,forwarded=useForwardPropsEmits(props,emits),__returned__={props,emits,forwarded,get TabsRoot(){return TabsRoot_default}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$3(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.TabsRoot,mergeProps($setup.forwarded,{"data-source-file":"src/components/ui/tabs/Tabs.vue","data-source-line-start":"12","data-source-line-end":"14"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)}const Tabs=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2=defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),__returned__={props,delegatedProps,get TabsContent(){return TabsContent_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$2(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.TabsContent,mergeProps({class:$setup.cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",$setup.props.class)},$setup.delegatedProps,{"data-source-file":"src/components/ui/tabs/TabsContent.vue","data-source-line-start":"14","data-source-line-end":"19"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["class"])}const TabsContent=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1=defineComponent({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),__returned__={props,delegatedProps,get TabsList(){return TabsList_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$1(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.TabsList,mergeProps($setup.delegatedProps,{class:$setup.cn("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",$setup.props.class),"data-source-file":"src/components/ui/tabs/TabsList.vue","data-source-line-start":"14","data-source-line-end":"22"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["class"])}const TabsList=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main=defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),forwardedProps=useForwardProps(delegatedProps),__returned__={props,delegatedProps,forwardedProps,get TabsTrigger(){return TabsTrigger_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}}),_hoisted_1={class:"truncate","data-source-file":"src/components/ui/tabs/TabsTrigger.vue","data-source-line-start":"23","data-source-line-end":"25"};function _sfc_render(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.TabsTrigger,mergeProps($setup.forwardedProps,{class:$setup.cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",$setup.props.class),"data-source-file":"src/components/ui/tabs/TabsTrigger.vue","data-source-line-start":"16","data-source-line-end":"26"}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1,[renderSlot(_ctx.$slots,"default")])]),_:3},16,["class"])}const TabsTrigger=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{RovingFocusItem_default as R,TabsTrigger as T,TabsList as a,TabsContent as b,Tabs as c,usePrimitiveElement as u};
