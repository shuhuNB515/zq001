const ignoredElement=["INPUT","TEXTAREA"];function useArrowNavigation(e,currentElement,parentElement,options={}){if(!currentElement||options.enableIgnoredElement&&ignoredElement.includes(currentElement.nodeName))return null;const{arrowKeyOptions="both",attributeName="[data-reka-collection-item]",itemsArray=[],loop=!0,dir="ltr",preventScroll=!0,focus=!1}=options,[right,left,up,down,home,end]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],goingVertical=up||down,goingHorizontal=right||left;if(!home&&!end&&(!goingVertical&&!goingHorizontal||arrowKeyOptions==="vertical"&&goingHorizontal||arrowKeyOptions==="horizontal"&&goingVertical))return null;const allCollectionItems=parentElement?Array.from(parentElement.querySelectorAll(attributeName)):itemsArray;if(!allCollectionItems.length)return null;preventScroll&&e.preventDefault();let item=null;return goingHorizontal||goingVertical?item=findNextFocusableElement(allCollectionItems,currentElement,{goForward:goingVertical?down:dir==="ltr"?right:left,loop}):home?item=allCollectionItems.at(0)||null:end&&(item=allCollectionItems.at(-1)||null),focus&&item?.focus(),item}function findNextFocusableElement(elements,currentElement,options,iterations=elements.length){if(--iterations===0)return null;const index=elements.indexOf(currentElement),newIndex=options.goForward?index+1:index-1;if(!options.loop&&(newIndex<0||newIndex>=elements.length))return null;const adjustedNewIndex=(newIndex+elements.length)%elements.length,candidate=elements[adjustedNewIndex];return candidate?candidate.hasAttribute("disabled")&&candidate.getAttribute("disabled")!=="false"?findNextFocusableElement(elements,candidate,options,iterations):candidate:null}export{useArrowNavigation as u};
