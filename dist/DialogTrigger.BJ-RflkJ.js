import{b as useVModel,u as useForwardExpose}from"./useForwardExpose.Ct4MH066.js";import{P as Primitive}from"./Primitive.DurlyzDV.js";import{d as defineComponent,h as ref,q as toRefs,l as renderSlot,u as unref,e as createBlock,o as openBlock,w as withCtx,m as mergeProps,i as onMounted,f as createVNode,b as createCommentVNode,n as normalizeProps,p as guardReactiveProps}from"./runtime-core.esm-bundler.T-J3b-OY.js";import{b as useEmitAsProps}from"./useForwardPropsEmits.Bq_EhdOw.js";import{u as useId,P as Presence_default}from"./Presence.BaHqK_e-.js";import{D as DismissableLayer_default,g as getOpenState,F as FocusScope_default,e as useHideOthers,u as useBodyScrollLock,T as Teleport_default}from"./Teleport.D8lx822C.js";import{g as getActiveElement}from"./getActiveElement.C3iuMN-h.js";import{c as createContext}from"./createContext.C6fsTd1r.js";const[injectDialogRootContext,provideDialogRootContext]=createContext("DialogRoot");var DialogRoot_vue_vue_type_script_setup_true_lang_default=defineComponent({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(__props,{emit:__emit}){const props=__props,open=useVModel(props,"open",__emit,{defaultValue:props.defaultOpen,passive:props.open===void 0}),triggerElement=ref(),contentElement=ref(),{modal}=toRefs(props);return provideDialogRootContext({open,modal,openModal:()=>{open.value=!0},onOpenChange:value=>{open.value=value},onOpenToggle:()=>{open.value=!open.value},contentId:"",titleId:"",descriptionId:"",triggerElement,contentElement}),(_ctx,_cache)=>renderSlot(_ctx.$slots,"default",{open:unref(open),close:()=>open.value=!1})}}),DialogRoot_default=DialogRoot_vue_vue_type_script_setup_true_lang_default,DialogClose_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(__props){const props=__props;useForwardExpose();const rootContext=injectDialogRootContext();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps(props,{type:_ctx.as==="button"?"button":void 0,onClick:_cache[0]||(_cache[0]=$event=>unref(rootContext).onOpenChange(!1))}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["type"]))}}),DialogClose_default=DialogClose_vue_vue_type_script_setup_true_lang_default,DialogContentImpl_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,rootContext=injectDialogRootContext(),{forwardRef,currentElement:contentElement}=useForwardExpose();return rootContext.titleId||=useId(void 0,"reka-dialog-title"),rootContext.descriptionId||=useId(void 0,"reka-dialog-description"),onMounted(()=>{rootContext.contentElement=contentElement,getActiveElement()!==document.body&&(rootContext.triggerElement.value=getActiveElement())}),(_ctx,_cache)=>(openBlock(),createBlock(unref(FocusScope_default),{"as-child":"",loop:"",trapped:props.trapFocus,onMountAutoFocus:_cache[5]||(_cache[5]=$event=>emits("openAutoFocus",$event)),onUnmountAutoFocus:_cache[6]||(_cache[6]=$event=>emits("closeAutoFocus",$event))},{default:withCtx(()=>[createVNode(unref(DismissableLayer_default),mergeProps({id:unref(rootContext).contentId,ref:unref(forwardRef),as:_ctx.as,"as-child":_ctx.asChild,"disable-outside-pointer-events":_ctx.disableOutsidePointerEvents,role:"dialog","aria-describedby":unref(rootContext).descriptionId,"aria-labelledby":unref(rootContext).titleId,"data-state":unref(getOpenState)(unref(rootContext).open.value)},_ctx.$attrs,{onDismiss:_cache[0]||(_cache[0]=$event=>unref(rootContext).onOpenChange(!1)),onEscapeKeyDown:_cache[1]||(_cache[1]=$event=>emits("escapeKeyDown",$event)),onFocusOutside:_cache[2]||(_cache[2]=$event=>emits("focusOutside",$event)),onInteractOutside:_cache[3]||(_cache[3]=$event=>emits("interactOutside",$event)),onPointerDownOutside:_cache[4]||(_cache[4]=$event=>emits("pointerDownOutside",$event))}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),DialogContentImpl_default=DialogContentImpl_vue_vue_type_script_setup_true_lang_default,DialogContentModal_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,rootContext=injectDialogRootContext(),emitsAsProps=useEmitAsProps(emits),{forwardRef,currentElement}=useForwardExpose();return useHideOthers(currentElement),(_ctx,_cache)=>(openBlock(),createBlock(DialogContentImpl_default,mergeProps({...props,...unref(emitsAsProps)},{ref:unref(forwardRef),"trap-focus":unref(rootContext).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:_cache[0]||(_cache[0]=event=>{event.defaultPrevented||(event.preventDefault(),unref(rootContext).triggerElement.value?.focus())}),onPointerDownOutside:_cache[1]||(_cache[1]=event=>{const originalEvent=event.detail.originalEvent,ctrlLeftClick=originalEvent.button===0&&originalEvent.ctrlKey===!0;(originalEvent.button===2||ctrlLeftClick)&&event.preventDefault()}),onFocusOutside:_cache[2]||(_cache[2]=event=>{event.preventDefault()})}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["trap-focus"]))}}),DialogContentModal_default=DialogContentModal_vue_vue_type_script_setup_true_lang_default,DialogContentNonModal_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{emit:__emit}){const props=__props,emitsAsProps=useEmitAsProps(__emit);useForwardExpose();const rootContext=injectDialogRootContext(),hasInteractedOutsideRef=ref(!1),hasPointerDownOutsideRef=ref(!1);return(_ctx,_cache)=>(openBlock(),createBlock(DialogContentImpl_default,mergeProps({...props,...unref(emitsAsProps)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:_cache[0]||(_cache[0]=event=>{event.defaultPrevented||(hasInteractedOutsideRef.value||unref(rootContext).triggerElement.value?.focus(),event.preventDefault()),hasInteractedOutsideRef.value=!1,hasPointerDownOutsideRef.value=!1}),onInteractOutside:_cache[1]||(_cache[1]=event=>{event.defaultPrevented||(hasInteractedOutsideRef.value=!0,event.detail.originalEvent.type==="pointerdown"&&(hasPointerDownOutsideRef.value=!0));const target=event.target;unref(rootContext).triggerElement.value?.contains(target)&&event.preventDefault(),event.detail.originalEvent.type==="focusin"&&hasPointerDownOutsideRef.value&&event.preventDefault()})}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16))}}),DialogContentNonModal_default=DialogContentNonModal_vue_vue_type_script_setup_true_lang_default,DialogContent_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,rootContext=injectDialogRootContext(),emitsAsProps=useEmitAsProps(emits),{forwardRef}=useForwardExpose();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{present:_ctx.forceMount||unref(rootContext).open.value},{default:withCtx(()=>[unref(rootContext).modal.value?(openBlock(),createBlock(DialogContentModal_default,mergeProps({key:0,ref:unref(forwardRef)},{...props,...unref(emitsAsProps),..._ctx.$attrs}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)):(openBlock(),createBlock(DialogContentNonModal_default,mergeProps({key:1,ref:unref(forwardRef)},{...props,...unref(emitsAsProps),..._ctx.$attrs}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),DialogContent_default=DialogContent_vue_vue_type_script_setup_true_lang_default,DialogDescription_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(__props){const props=__props;useForwardExpose();const rootContext=injectDialogRootContext();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps(props,{id:unref(rootContext).descriptionId}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["id"]))}}),DialogDescription_default=DialogDescription_vue_vue_type_script_setup_true_lang_default,DialogOverlayImpl_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const rootContext=injectDialogRootContext();return useBodyScrollLock(!0),useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{as:_ctx.as,"as-child":_ctx.asChild,"data-state":unref(rootContext).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),DialogOverlayImpl_default=DialogOverlayImpl_vue_vue_type_script_setup_true_lang_default,DialogOverlay_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const rootContext=injectDialogRootContext(),{forwardRef}=useForwardExpose();return(_ctx,_cache)=>unref(rootContext)?.modal.value?(openBlock(),createBlock(unref(Presence_default),{key:0,present:_ctx.forceMount||unref(rootContext).open.value},{default:withCtx(()=>[createVNode(DialogOverlayImpl_default,mergeProps(_ctx.$attrs,{ref:unref(forwardRef),as:_ctx.as,"as-child":_ctx.asChild}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):createCommentVNode("v-if",!0)}}),DialogOverlay_default=DialogOverlay_vue_vue_type_script_setup_true_lang_default,DialogPortal_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(__props){const props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Teleport_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16))}}),DialogPortal_default=DialogPortal_vue_vue_type_script_setup_true_lang_default,DialogTitle_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(__props){const props=__props,rootContext=injectDialogRootContext();return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps(props,{id:unref(rootContext).titleId}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["id"]))}}),DialogTitle_default=DialogTitle_vue_vue_type_script_setup_true_lang_default,DialogTrigger_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(__props){const props=__props,rootContext=injectDialogRootContext(),{forwardRef,currentElement}=useForwardExpose();return rootContext.contentId||=useId(void 0,"reka-dialog-content"),onMounted(()=>{rootContext.triggerElement.value=currentElement.value}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps(props,{ref:unref(forwardRef),type:_ctx.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":unref(rootContext).open.value||!1,"aria-controls":unref(rootContext).open.value?unref(rootContext).contentId:void 0,"data-state":unref(rootContext).open.value?"open":"closed",onClick:unref(rootContext).onOpenToggle}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),DialogTrigger_default=DialogTrigger_vue_vue_type_script_setup_true_lang_default;export{DialogRoot_default as D,DialogClose_default as a,DialogPortal_default as b,DialogOverlay_default as c,DialogContent_default as d,DialogDescription_default as e,DialogTitle_default as f,DialogTrigger_default as g};
