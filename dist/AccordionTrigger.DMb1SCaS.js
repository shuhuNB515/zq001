import{a as useForwardPropsEmits,u as useForwardProps}from"./useForwardPropsEmits.Bq_EhdOw.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper.Dak_cNiX.js";import{d as defineComponent,q as toRefs,e as createBlock,o as openBlock,w as withCtx,l as renderSlot,u as unref,h as ref,k as computed,s as watch,i as onMounted,f as createVNode,m as mergeProps,b as createCommentVNode,E as nextTick,a as createBaseVNode,A as normalizeClass}from"./runtime-core.esm-bundler.T-J3b-OY.js";import{b as useVModel,u as useForwardExpose,d as useEventListener}from"./useForwardExpose.Ct4MH066.js";import{u as useId,P as Presence_default}from"./Presence.BaHqK_e-.js";import{P as Primitive}from"./Primitive.DurlyzDV.js";import{c as cn}from"./utils.DJhkAclG.js";import{r as reactiveOmit}from"./index.BnVuat8O.js";import{c as createContext}from"./createContext.C6fsTd1r.js";import{u as useDirection}from"./useDirection.BL8aHuFH.js";import{i as isValueEqualOrExist}from"./isValueEqualOrExist.CukdK4Lr.js";import{i as isEqual}from"./nullish.CBVn7mTa.js";import{u as useArrowNavigation}from"./useArrowNavigation.6yxW1mN8.js";import{a as withKeys}from"./runtime-dom.esm-bundler.DIawZXRK.js";import{C as ChevronDown}from"./chevron-down.BQKhVe0F.js";const[injectCollapsibleRootContext,provideCollapsibleRootContext]=createContext("CollapsibleRoot");var CollapsibleRoot_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(__props,{expose:__expose,emit:__emit}){const props=__props,open=useVModel(props,"open",__emit,{defaultValue:props.defaultOpen,passive:props.open===void 0}),{disabled,unmountOnHide}=toRefs(props);return provideCollapsibleRootContext({contentId:"",disabled,open,unmountOnHide,onOpenToggle:()=>{disabled.value||(open.value=!open.value)}}),__expose({open}),useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{as:_ctx.as,"as-child":props.asChild,"data-state":unref(open)?"open":"closed","data-disabled":unref(disabled)?"":void 0},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default",{open:unref(open)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),CollapsibleRoot_default=CollapsibleRoot_vue_vue_type_script_setup_true_lang_default,CollapsibleContent_vue_vue_type_script_setup_true_lang_default=defineComponent({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,rootContext=injectCollapsibleRootContext();rootContext.contentId||=useId(void 0,"reka-collapsible-content");const presentRef=ref(),{forwardRef,currentElement}=useForwardExpose(),width=ref(0),height=ref(0),isOpen=computed(()=>rootContext.open.value),isMountAnimationPrevented=ref(isOpen.value),currentStyle=ref();watch(()=>[isOpen.value,presentRef.value?.present],async()=>{await nextTick();const node=currentElement.value;if(!node)return;currentStyle.value=currentStyle.value||{transitionDuration:node.style.transitionDuration,animationName:node.style.animationName},node.style.transitionDuration="0s",node.style.animationName="none";const rect=node.getBoundingClientRect();height.value=rect.height,width.value=rect.width,isMountAnimationPrevented.value||(node.style.transitionDuration=currentStyle.value.transitionDuration,node.style.animationName=currentStyle.value.animationName)},{immediate:!0});const skipAnimation=computed(()=>isMountAnimationPrevented.value&&rootContext.open.value);return onMounted(()=>{requestAnimationFrame(()=>{isMountAnimationPrevented.value=!1})}),useEventListener(currentElement,"beforematch",ev=>{requestAnimationFrame(()=>{rootContext.onOpenToggle(),emits("contentFound")})}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{ref_key:"presentRef",ref:presentRef,present:_ctx.forceMount||unref(rootContext).open.value,"force-mount":!0},{default:withCtx(({present})=>[createVNode(unref(Primitive),mergeProps(_ctx.$attrs,{id:unref(rootContext).contentId,ref:unref(forwardRef),"as-child":props.asChild,as:_ctx.as,hidden:present?void 0:unref(rootContext).unmountOnHide.value?"":"until-found","data-state":skipAnimation.value?void 0:unref(rootContext).open.value?"open":"closed","data-disabled":unref(rootContext).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${height.value}px`,"--reka-collapsible-content-width":`${width.value}px`}}),{default:withCtx(()=>[!unref(rootContext).unmountOnHide.value||present?renderSlot(_ctx.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),CollapsibleContent_default=CollapsibleContent_vue_vue_type_script_setup_true_lang_default,CollapsibleTrigger_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(__props){const props=__props;useForwardExpose();const rootContext=injectCollapsibleRootContext();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{type:_ctx.as==="button"?"button":void 0,as:_ctx.as,"as-child":props.asChild,"aria-controls":unref(rootContext).contentId,"aria-expanded":unref(rootContext).open.value,"data-state":unref(rootContext).open.value?"open":"closed","data-disabled":unref(rootContext).disabled?.value?"":void 0,disabled:unref(rootContext).disabled?.value,onClick:unref(rootContext).onOpenToggle},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),CollapsibleTrigger_default=CollapsibleTrigger_vue_vue_type_script_setup_true_lang_default;function validateProps({type,defaultValue,modelValue}){const value=modelValue||defaultValue;return modelValue!==void 0||defaultValue!==void 0?Array.isArray(value)?"multiple":"single":type??"single"}function getDefaultType({type,defaultValue,modelValue}){return type||validateProps({type,defaultValue,modelValue})}function getDefaultValue({type,defaultValue}){return defaultValue!==void 0?defaultValue:type==="single"?void 0:[]}function useSingleOrMultipleValue(props,emits){const type=computed(()=>getDefaultType(props)),modelValue=useVModel(props,"modelValue",emits,{defaultValue:getDefaultValue(props),passive:props.modelValue===void 0,deep:!0});function changeModelValue(value){if(type.value==="single")modelValue.value=isEqual(value,modelValue.value)?void 0:value;else{const modelValueArray=Array.isArray(modelValue.value)?[...modelValue.value||[]]:[modelValue.value].filter(Boolean);if(isValueEqualOrExist(modelValueArray,value)){const index=modelValueArray.findIndex(i=>isEqual(i,value));modelValueArray.splice(index,1)}else modelValueArray.push(value);modelValue.value=modelValueArray}}const isSingle=computed(()=>type.value==="single");return{modelValue,changeModelValue,isSingle}}const[injectAccordionRootContext,provideAccordionRootContext]=createContext("AccordionRoot");var AccordionRoot_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(__props,{emit:__emit}){const props=__props,emits=__emit,{dir,disabled,unmountOnHide}=toRefs(props),direction=useDirection(dir),{modelValue,changeModelValue,isSingle}=useSingleOrMultipleValue(props,emits),{forwardRef,currentElement:parentElement}=useForwardExpose();return provideAccordionRootContext({disabled,direction,orientation:props.orientation,parentElement,isSingle,collapsible:props.collapsible,modelValue,changeModelValue,unmountOnHide}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{ref:unref(forwardRef),"as-child":_ctx.asChild,as:_ctx.as},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default",{modelValue:unref(modelValue)})]),_:3},8,["as-child","as"]))}}),AccordionRoot_default=AccordionRoot_vue_vue_type_script_setup_true_lang_default,AccordionItemState=(function(AccordionItemState$1){return AccordionItemState$1.Open="open",AccordionItemState$1.Closed="closed",AccordionItemState$1})(AccordionItemState||{});const[injectAccordionItemContext,provideAccordionItemContext]=createContext("AccordionItem");var AccordionItem_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props,{expose:__expose}){const props=__props,rootContext=injectAccordionRootContext(),open=computed(()=>rootContext.isSingle.value?props.value===rootContext.modelValue.value:Array.isArray(rootContext.modelValue.value)&&rootContext.modelValue.value.includes(props.value)),disabled=computed(()=>rootContext.disabled.value||props.disabled),dataDisabled=computed(()=>disabled.value?"":void 0),dataState=computed(()=>open.value?AccordionItemState.Open:AccordionItemState.Closed);__expose({open,dataDisabled});const{currentRef,currentElement}=useForwardExpose();provideAccordionItemContext({open,dataState,disabled,dataDisabled,triggerId:"",currentRef,currentElement,value:computed(()=>props.value)});function handleArrowKey(e){const target=e.target;if(Array.from(rootContext.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(item=>item===target)===-1)return null;useArrowNavigation(e,target,rootContext.parentElement.value,{arrowKeyOptions:rootContext.orientation,dir:rootContext.direction.value,focus:!0})}return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleRoot_default),{"data-orientation":unref(rootContext).orientation,"data-disabled":dataDisabled.value,"data-state":dataState.value,disabled:disabled.value,open:open.value,as:props.as,"as-child":props.asChild,"unmount-on-hide":unref(rootContext).unmountOnHide.value,onKeydown:withKeys(handleArrowKey,["up","down","left","right","home","end"])},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default",{open:open.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),AccordionItem_default=AccordionItem_vue_vue_type_script_setup_true_lang_default,AccordionContent_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const props=__props,rootContext=injectAccordionRootContext(),itemContext=injectAccordionItemContext();return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleContent_default),{role:"region","as-child":props.asChild,as:_ctx.as,"force-mount":props.forceMount,"aria-labelledby":unref(itemContext).triggerId,"data-state":unref(itemContext).dataState.value,"data-disabled":unref(itemContext).dataDisabled.value,"data-orientation":unref(rootContext).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:_cache[0]||(_cache[0]=$event=>unref(rootContext).changeModelValue(unref(itemContext).value.value))},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),AccordionContent_default=AccordionContent_vue_vue_type_script_setup_true_lang_default,AccordionHeader_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(__props){const props=__props,rootContext=injectAccordionRootContext(),itemContext=injectAccordionItemContext();return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{as:props.as,"as-child":props.asChild,"data-orientation":unref(rootContext).orientation,"data-state":unref(itemContext).dataState.value,"data-disabled":unref(itemContext).dataDisabled.value},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),AccordionHeader_default=AccordionHeader_vue_vue_type_script_setup_true_lang_default,AccordionTrigger_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){const props=__props,rootContext=injectAccordionRootContext(),itemContext=injectAccordionItemContext();itemContext.triggerId||=useId(void 0,"reka-accordion-trigger");function changeItem(){const triggerDisabled=rootContext.isSingle.value&&itemContext.open.value&&!rootContext.collapsible;itemContext.disabled.value||triggerDisabled||rootContext.changeModelValue(itemContext.value.value)}return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleTrigger_default),{id:unref(itemContext).triggerId,ref:unref(itemContext).currentRef,"data-reka-collection-item":"",as:props.as,"as-child":props.asChild,"aria-disabled":unref(itemContext).disabled.value||void 0,"aria-expanded":unref(itemContext).open.value||!1,"data-disabled":unref(itemContext).dataDisabled.value,"data-orientation":unref(rootContext).orientation,"data-state":unref(itemContext).dataState.value,disabled:unref(itemContext).disabled.value,onClick:changeItem},{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),AccordionTrigger_default=AccordionTrigger_vue_vue_type_script_setup_true_lang_default;const _sfc_main$3=defineComponent({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(__props,{expose:__expose,emit:__emit}){__expose();const props=__props,emits=__emit,forwarded=useForwardPropsEmits(props,emits),__returned__={props,emits,forwarded,get AccordionRoot(){return AccordionRoot_default}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$3(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.AccordionRoot,mergeProps($setup.forwarded,{"data-source-file":"src/components/ui/accordion/Accordion.vue","data-source-line-start":"16","data-source-line-end":"18"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16)}const Accordion=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2=defineComponent({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),__returned__={props,delegatedProps,get AccordionContent(){return AccordionContent_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$2(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.AccordionContent,mergeProps($setup.delegatedProps,{class:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down","data-source-file":"src/components/ui/accordion/AccordionContent.vue","data-source-line-start":"14","data-source-line-end":"21"}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass($setup.cn("pb-4 pt-0",$setup.props.class)),"data-source-file":"src/components/ui/accordion/AccordionContent.vue","data-source-line-start":"18","data-source-line-end":"20"},[renderSlot(_ctx.$slots,"default")],2)]),_:3},16)}const AccordionContent=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1=defineComponent({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),forwardedProps=useForwardProps(delegatedProps),__returned__={props,delegatedProps,forwardedProps,get AccordionItem(){return AccordionItem_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render$1(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.AccordionItem,mergeProps($setup.forwardedProps,{class:$setup.cn("border-b",$setup.props.class),"data-source-file":"src/components/ui/accordion/AccordionItem.vue","data-source-line-start":"16","data-source-line-end":"21"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default")]),_:3},16,["class"])}const AccordionItem=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main=defineComponent({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(__props,{expose:__expose}){__expose();const props=__props,delegatedProps=reactiveOmit(props,"class"),__returned__={props,delegatedProps,get ChevronDown(){return ChevronDown},get AccordionHeader(){return AccordionHeader_default},get AccordionTrigger(){return AccordionTrigger_default},get cn(){return cn}};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render(_ctx,_cache,$props,$setup,$data,$options){return openBlock(),createBlock($setup.AccordionHeader,{class:"flex","data-source-file":"src/components/ui/accordion/AccordionTrigger.vue","data-source-line-start":"19","data-source-line-end":"36"},{default:withCtx(()=>[createVNode($setup.AccordionTrigger,mergeProps($setup.delegatedProps,{class:$setup.cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",$setup.props.class),"data-source-file":"src/components/ui/accordion/AccordionTrigger.vue","data-source-line-start":"20","data-source-line-end":"35"}),{default:withCtx(()=>[renderSlot(_ctx.$slots,"default"),renderSlot(_ctx.$slots,"icon",{},()=>[createVNode($setup.ChevronDown,{class:"h-4 w-4 shrink-0 transition-transform duration-200","data-source-file":"src/components/ui/accordion/AccordionTrigger.vue","data-source-line-start":"31","data-source-line-end":"33"})])]),_:3},16,["class"])]),_:3})}const AccordionTrigger=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{AccordionTrigger as A,AccordionItem as a,AccordionContent as b,Accordion as c};
